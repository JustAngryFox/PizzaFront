{"ast":null,"code":"import axios from 'axios';\nexport default {\n  name: 'AddPizzaView',\n  data: () => ({\n    name: null,\n    price: null,\n    description: null,\n    errors: []\n  }),\n  methods: {\n    ValidateForm() {\n      if (!this.name) {\n        this.errors.push('Введите название!');\n      }\n\n      if (!this.price) {\n        this.errors.push('Укажите цену');\n      }\n\n      if (!this.description) {\n        this.errors.push('Добавьте описание!');\n      }\n\n      console.log(document.getElementById('image'));\n\n      if (!this.image) {\n        this.errors.push('Добавьте изображение!');\n      }\n\n      if (this.errors.length == 0) {\n        this.SendPizza();\n      }\n    },\n\n    SendPizza() {\n      var formData = new FormData(document.forms.PizzaForm);\n      axios.post('http://testpizzabackend/public/api/upload_product', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        console.log(\"response\", response.data);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA+BA;AAGA;EAEAA,oBAFA;EAIAC;IACAD,UADA;IAEAE,WAFA;IAGAC,iBAHA;IAIAC;EAJA,EAJA;EAWAC;IAEAC;MAEA;QACA;MACA;;MAEA;QACA;MACA;;MAEA;QACA;MACA;;MAEAC;;MAEA;QACA;MACA;;MAEA;QACA;MACA;IACA,CAzBA;;IA4BAC;MACA;MACAC;QACAC;UACA;QADA;MADA,GAIAC,IAJA,CAIAC;QACAL;MACA,CANA;IAOA;;EArCA;AAXA","names":["name","data","price","description","errors","methods","ValidateForm","console","SendPizza","axios","headers","then","response"],"sourceRoot":"src/views","sources":["AddPizzaView.vue"],"sourcesContent":["<template>\r\n<div id=\"AddPizzaView\" class=\"container flex-column\">\r\n<h2 class=\"text-light\">Добавить пиццу</h2>\r\n <form name=\"PizzaForm\">\r\n  <div class=\"form-group\">\r\n    <label class=\"text-light\" for=\"name\">Название:</label>\r\n    <input v-model=\"name\" type=\"text\" name=\"name\" class=\"form-control\" id=\"name\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label class=\"text-light\" for=\"price\">Цена:</label>\r\n    <input v-model=\"price\" type=\"number\" name=\"price\" class=\"form-control\" id=\"price\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label class=\"text-light\" for=\"description\">Описание:</label>\r\n    <input v-model=\"description\" type=\"text\" name=\"description\" class=\"form-control\" id=\"description\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label class=\"text-light\" for=\"image\">Изображение:</label>\r\n    <input type=\"file\" name=\"image\" class=\"form-control\" id=\"image\">\r\n  </div>\r\n  <button v-on:click=\"ValidateForm\" type=\"button\" class=\"btn btn-primary\">Добавить</button>\r\n</form> \r\n\r\n\r\n<div class=\"alert alert-danger\" v-if=\"errors.length\">\r\n<li v-for=\"(error,index) in errors\" v-bind:key=\"index\">{{ error }}</li>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios'\r\n\r\n\r\nexport default {\r\n\r\nname: 'AddPizzaView',\r\n\r\ndata:()=>({\r\nname:null,\r\nprice:null,\r\ndescription:null,\r\nerrors:[]\r\n}),\r\n\r\nmethods:{\r\n\r\nValidateForm(){\r\n\r\nif (!this.name) {\r\n        this.errors.push('Введите название!');\r\n}\r\n\r\nif (!this.price) {\r\n        this.errors.push('Укажите цену');\r\n}\r\n\r\nif (!this.description) {\r\n        this.errors.push('Добавьте описание!');\r\n}\r\n\r\nconsole.log(document.getElementById('image'))\r\n\r\nif (!this.image) {\r\n        this.errors.push('Добавьте изображение!');\r\n}\r\n\r\nif(this.errors.length==0){ \r\nthis.SendPizza()\r\n}\r\n},\r\n\r\n\r\nSendPizza(){\r\nvar formData = new FormData(document.forms.PizzaForm)\r\naxios.post('http://testpizzabackend/public/api/upload_product', formData, {\r\nheaders: {\r\n'Content-Type': 'multipart/form-data'\r\n}\r\n}).then(response => {\r\nconsole.log(\"response\", response.data)\r\n})\r\n}\r\n\r\n}\r\n  \r\n  \r\n}\r\n</script>\r\n\r\n<style scope>\r\n#AddPizzaView{margin:50px 0px 0px 0px;background:#343a40;border-radius:5px;padding:30px 0px;}\r\n</style>"]},"metadata":{},"sourceType":"module"}