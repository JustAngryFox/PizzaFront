{"ast":null,"code":"import PizzaBlockProfile from './PizzaBlockProfile.vue';\nimport store from './../store';\nimport axios from 'axios';\nexport default {\n  name: 'MainView',\n  data: () => ({\n    total: 0,\n    store: store,\n    order: []\n  }),\n  mounted: function () {\n    this.GetOrder();\n  },\n  components: {\n    PizzaBlockProfile: PizzaBlockProfile\n  },\n  methods: {\n    GetOrder() {\n      this.order = this.store.products.pizza;\n      let i = 0;\n\n      for (i = 0; i < this.store.products.pizza.length; i++) {\n        this.total += Number(this.store.products.pizza[i].price);\n      }\n    },\n\n    SendOrder() {\n      var formData = new FormData(document.forms.OrderForm);\n      axios.post('http://testpizzabackend/public/api/upload_product', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        console.log(\"response\", response.data);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA6BA;AACA;AACA;AAEA;EACAA,gBADA;EAEAC;IACAC,QADA;IAEAC,YAFA;IAGAC;EAHA,EAFA;EAQAC;IACA;EACA,CAVA;EAYAC;IACAC;EADA,CAZA;EAgBAC;IACAC;MAEA;MAEA;;MAEA;QACA;MACA;IACA,CAVA;;IAYAC;MACA;MACAC;QACAC;UACA;QADA;MADA,GAIAC,IAJA,CAIAC;QACAC;MACA,CANA;IAOA;;EArBA;AAhBA","names":["name","data","total","store","order","mounted","components","PizzaBlockProfile","methods","GetOrder","SendOrder","axios","headers","then","response","console"],"sourceRoot":"src/views","sources":["ProfileView.vue"],"sourcesContent":["<template>\r\n<div id=\"MainView\">\r\n<div class=\"container flex-column\">\r\n<h2 class=\"text-light\">Оформить заказ</h2>\r\n<div class=\"b0\">\r\n<PizzaBlockProfile v-bind:total.sync=\"total\" :index=\"index\" v-for=\"(dates, index) in order\"\r\n  v-bind:key=\"dates.id\"\r\n  v-bind:dates=\"dates\"></PizzaBlockProfile>\r\n</div>\r\n\r\n\r\n<form name=\"OrderForm\">\r\n<input placeholder=\"Введите имя\"  type=\"text\" name=\"name\" class=\"form-control\">\r\n<input type=\"email\" name=\"email\" placeholder=\"Введите email\" class=\"form-control\">\r\n<input type=\"text\" name=\"tel\" placeholder=\"Введите номер телефона\" class=\"form-control\">\r\n<input type=\"hidden\" name=\"products_id\">\r\n<input type=\"hidden\" name=\"products_id\">\r\n<span>Итоговая сумма: {{total}} рублей</span>\r\n<button v-on:click=\"SendOrder\" type=\"button\" class=\"btn btn-primary\">Добавить</button>\r\n</form> \r\n\r\n\r\n\r\n</div>\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport PizzaBlockProfile from './PizzaBlockProfile.vue'\r\nimport store from './../store';\r\nimport axios from 'axios'\r\n\r\nexport default {\r\nname: 'MainView',\r\ndata:()=>({\r\ntotal:0,\r\nstore:store,\r\norder:[]\r\n}),  \r\n\r\nmounted:function(){\r\nthis.GetOrder()\r\n},\r\n\r\ncomponents: {\r\nPizzaBlockProfile:PizzaBlockProfile\r\n},\r\n\r\nmethods:{\r\nGetOrder(){\r\n\r\nthis.order=this.store.products.pizza;\r\n\r\nlet i=0\r\n\r\nfor (i=0;i<this.store.products.pizza.length;i++){\r\nthis.total+=Number(this.store.products.pizza[i].price)\r\n}\r\n},\r\n\r\nSendOrder(){\r\nvar formData = new FormData(document.forms.OrderForm)\r\naxios.post('http://testpizzabackend/public/api/upload_product', formData, {\r\nheaders: {\r\n'Content-Type': 'multipart/form-data'\r\n}\r\n}).then(response => {\r\nconsole.log(\"response\", response.data)\r\n})\r\n}\r\n\r\n}\r\n}\r\n</script>\r\n\r\n<style scope>\r\n#MainView .container{background: #343a40;border-radius:6px;padding:20px 0px;}\r\n#MainView .container .b0{flex-flow:column nowrap;display:inline-flex;margin:20px 0px 0px 0px;}\r\n#MainView .container form{flex-flow:column nowrap;display:inline-flex;}\r\n#MainView .container form input{margin:20px 0px 0px 0px;}\r\n#MainView .container form span{margin:20px 0px 0px 0px;color:#28a745;}\r\n#MainView .container form button{margin:20px 0px 20px 0px;}\r\n</style>"]},"metadata":{},"sourceType":"module"}